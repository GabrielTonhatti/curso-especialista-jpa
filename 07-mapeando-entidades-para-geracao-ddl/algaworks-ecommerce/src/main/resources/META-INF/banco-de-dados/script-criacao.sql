CREATE TABLE TESTANDO (ID INTEGER NOT NULL AUTO_INCREMENT, PRIMARY KEY (ID)) ENGINE=INNODB;

-- CREATE TABLE CATEGORIA (ID INTEGER NOT NULL AUTO_INCREMENT, NOME VARCHAR(100) NOT NULL, CATEGORIA_PAI_ID INTEGER, PRIMARY KEY (ID)) ENGINE=INNODB;
-- CREATE TABLE CLIENTE (ID INTEGER NOT NULL AUTO_INCREMENT, CPF VARCHAR(14) NOT NULL, NOME VARCHAR(100) NOT NULL, PRIMARY KEY (ID)) ENGINE=INNODB;
-- CREATE TABLE CLIENTE_CONTATO (CLIENTE_ID INTEGER NOT NULL, DESCRICAO VARCHAR(255), TIPO VARCHAR(255) NOT NULL, PRIMARY KEY (CLIENTE_ID, TIPO)) ENGINE=INNODB;
-- CREATE TABLE CLIENTE_DETALHE (DATA_NASCIMENTO DATE, SEXO VARCHAR(30) NOT NULL, CLIENTE_ID INTEGER NOT NULL, PRIMARY KEY (CLIENTE_ID)) ENGINE=INNODB;
-- CREATE TABLE ESTOQUE (ID INTEGER NOT NULL AUTO_INCREMENT, QUANTIDADE INTEGER, PRODUTO_ID INTEGER NOT NULL, PRIMARY KEY (ID)) ENGINE=INNODB;
-- CREATE TABLE ITEM_PEDIDO (PEDIDO_ID INTEGER NOT NULL, PRODUTO_ID INTEGER NOT NULL, PRECO_PRODUTO DECIMAL(19,2) NOT NULL, QUANTIDADE INTEGER NOT NULL, PRIMARY KEY (PEDIDO_ID, PRODUTO_ID)) ENGINE=INNODB;
-- CREATE TABLE NOTA_FISCAL (PEDIDO_ID INTEGER NOT NULL, DATA_EMISSAO DATETIME(6) NOT NULL, XML LONGBLOB NOT NULL, PRIMARY KEY (PEDIDO_ID)) ENGINE=INNODB;
-- CREATE TABLE PAGAMENTO (TIPO_PAGAMENTO VARCHAR(31) NOT NULL, PEDIDO_ID INTEGER NOT NULL, STATUS VARCHAR(30) NOT NULL, NUMERO_CARTAO VARCHAR(50), CODIGO_BARRAS VARCHAR(100), PRIMARY KEY (PEDIDO_ID)) ENGINE=INNODB;
-- CREATE TABLE PEDIDO (ID INTEGER NOT NULL AUTO_INCREMENT, DATA_CONCLUSAO DATETIME(6), DATA_CRIACAO DATETIME(6) NOT NULL, DATA_ULTIMA_ATUALIZACAO DATETIME(6), BAIRRO VARCHAR(50), CEP VARCHAR(9), CIDADE VARCHAR(50), COMPLEMENTO VARCHAR(50), ESTADO VARCHAR(2), LOGRADOURO VARCHAR(100), NUMERO VARCHAR(10), STATUS VARCHAR(30) NOT NULL, TOTAL DECIMAL(19,2) NOT NULL, CLIENTE_ID INTEGER NOT NULL, PRIMARY KEY (ID)) ENGINE=INNODB;
-- CREATE TABLE PRODUTO (ID INTEGER NOT NULL AUTO_INCREMENT, DATA_CRIACAO DATETIME(6) NOT NULL, DATA_ULTIMA_ATUALIZACAO DATETIME(6), DESCRICAO LONGTEXT, FOTO LONGBLOB, NOME VARCHAR(100) NOT NULL, PRECO DECIMAL(19,2), PRIMARY KEY (ID)) ENGINE=INNODB;
-- CREATE TABLE PRODUTO_ATRIBUTO (PRODUTO_ID INTEGER NOT NULL, NOME VARCHAR(100) NOT NULL, VALOR VARCHAR(255)) ENGINE=INNODB;
-- CREATE TABLE PRODUTO_CATEGORIA (PRODUTO_ID INTEGER NOT NULL, CATEGORIA_ID INTEGER NOT NULL) ENGINE=INNODB;
-- CREATE TABLE PRODUTO_TAG (PRODUTO_ID INTEGER NOT NULL, TAG VARCHAR(50) NOT NULL) ENGINE=INNODB;
--
-- ALTER TABLE CATEGORIA ADD CONSTRAINT UNQ_NOME UNIQUE (NOME);
-- CREATE INDEX IDX_NOME ON CLIENTE (NOME);
-- ALTER TABLE CLIENTE ADD CONSTRAINT UNQ_CPF UNIQUE (CPF);
-- ALTER TABLE ESTOQUE ADD CONSTRAINT UK_G72W2SA50W9A647F0EYHOGUS5 UNIQUE (PRODUTO_ID);
-- CREATE INDEX IDX_NOME ON PRODUTO (NOME);
-- ALTER TABLE PRODUTO ADD CONSTRAINT UNQ_NOME UNIQUE (NOME);
-- ALTER TABLE CATEGORIA ADD CONSTRAINT FK_CATEGORIA_CATEGORIAPAI FOREIGN KEY (CATEGORIA_PAI_ID) REFERENCES CATEGORIA (ID);
-- ALTER TABLE CLIENTE_CONTATO ADD CONSTRAINT FK_CLIENTE_CONTATO_CLIENTE FOREIGN KEY (CLIENTE_ID) REFERENCES CLIENTE (ID);
-- ALTER TABLE CLIENTE_DETALHE ADD CONSTRAINT FK_CLIENTE_DETALHE_CLIENTE FOREIGN KEY (CLIENTE_ID) REFERENCES CLIENTE (ID);
-- ALTER TABLE ESTOQUE ADD CONSTRAINT FK_ESTOQUE_PRODUTO FOREIGN KEY (PRODUTO_ID) REFERENCES PRODUTO (ID);
-- ALTER TABLE ITEM_PEDIDO ADD CONSTRAINT FK_ITEM_PEDIDO_PEDIDO FOREIGN KEY (PEDIDO_ID) REFERENCES PEDIDO (ID);
-- ALTER TABLE ITEM_PEDIDO ADD CONSTRAINT FK_ITEM_PEDIDO_PRODUTO FOREIGN KEY (PRODUTO_ID) REFERENCES PRODUTO (ID);
-- ALTER TABLE NOTA_FISCAL ADD CONSTRAINT FK_NOTA_FISCAL_PEDIDO FOREIGN KEY (PEDIDO_ID) REFERENCES PEDIDO (ID);
-- ALTER TABLE PAGAMENTO ADD CONSTRAINT FK_PAGAMENTO_PEDIDO FOREIGN KEY (PEDIDO_ID) REFERENCES PEDIDO (ID);
-- ALTER TABLE PEDIDO ADD CONSTRAINT FK_PEDIDO_CLIENTE FOREIGN KEY (CLIENTE_ID) REFERENCES CLIENTE (ID);
-- ALTER TABLE PRODUTO_ATRIBUTO ADD CONSTRAINT FK_PRODUTO_ATRIBUTO_PRODUTO FOREIGN KEY (PRODUTO_ID) REFERENCES PRODUTO (ID);
-- ALTER TABLE PRODUTO_CATEGORIA ADD CONSTRAINT FK_PRODUTO_CATEGORIA_CATEGORIA FOREIGN KEY (CATEGORIA_ID) REFERENCES CATEGORIA (ID);
-- ALTER TABLE PRODUTO_CATEGORIA ADD CONSTRAINT FK_PRODUTO_CATEGORIA_PRODUTO FOREIGN KEY (PRODUTO_ID) REFERENCES PRODUTO (ID);
-- ALTER TABLE PRODUTO_TAG ADD CONSTRAINT FK_PRODUTO_TAG_PRODUTO FOREIGN KEY (PRODUTO_ID) REFERENCES PRODUTO (ID);
